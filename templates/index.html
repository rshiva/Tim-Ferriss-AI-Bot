{% extends 'layout.html' %}

{% block body %}
<main class="container" style="height: 80vh;">
  <div class="bg-light p-5 rounded mt-5"><h1>Ask Tim Ferriss</h1></div>
  <p class="lead"></p>
  
    <form action="/query" method="POST">
      <div class="mb-3" >
        <input type="text" class="form-control" id="question" name="question" placeholder="Tell me about Connectome Project?" maxlength="255" required>
        <!-- <div class="form-text">Tim can only answer from 30 Most Popular Episodes of The Tim Ferriss Show from 2022 .</div> -->
      </div>
      <button type="submit" class="btn btn-primary btn-md">Ask</button>
      </form>

  </div>

  {% if response %}
  <div class="p-3 rounded">
    <div class="row">
      <div class="col-lg-12">
        <h3 class="text-primary">{{query}}</h3>
        {% for choice in response["choices"] %}
          <p class="lead">{{ choice["message"]["content"] }}</p>
        {% endfor %}
      </div>
    </div>
  </div>

  {% endif %}
</main>
{% endblock  %}
